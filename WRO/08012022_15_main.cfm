<!-- Description : holistic 21.3 sürümü tablolar ve kolon değişiklikleri
Developer: Fatih Kara
Company : Workcube
Destination: Main -->
<querytag>  
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'SALARY_FACTOR_DEFINITION' AND COLUMN_NAME = 'WEEKDAY_RATE')
    BEGIN
        ALTER TABLE SALARY_FACTOR_DEFINITION ADD WEEKDAY_RATE float;
    END;
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'SALARY_FACTOR_DEFINITION' AND COLUMN_NAME = 'WEEKDAY_FEE')
    BEGIN
        ALTER TABLE SALARY_FACTOR_DEFINITION ADD WEEKDAY_FEE float;
    END;
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'SETUP_EDUCATION_LEVEL' AND COLUMN_NAME = 'DECLARATION_ID')
    BEGIN
        ALTER TABLE SETUP_EDUCATION_LEVEL ADD DECLARATION_ID int;
    END;
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'EMPLOYEES_IN_OUT_HISTORY' AND COLUMN_NAME = 'USE_MINIMUM_WAGE')
    BEGIN
        ALTER TABLE EMPLOYEES_IN_OUT_HISTORY ADD USE_MINIMUM_WAGE bit;
    END;
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'WRK_COOKIE')
    BEGIN
        CREATE TABLE [WRK_COOKIE](	  
        [WRK_COOKIE_ID] [int] IDENTITY(1,1) NOT NULL,
        [WRK_COOKIE] nvarchar(50) NULL, 
        [DOMAIN] nvarchar(250)  NULL, 
        [COKIE_DATE] datetime NULL, 
        [IS_APPROVE_ALL] bit NULL, 
        [IS_APPROVE_CUSTOM] bit NULL, 
        [IS_ANALYTIC] bit NULL, 
        [IS_MARKETING] bit NULL, 
        [IS_PERSONAL] bit NULL, 
        CONSTRAINT [PK__WRK_COOK__E6059E94F66EA278] PRIMARY KEY ([WRK_COOKIE_ID] ASC));
    END;
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'EMPLOYEES_PUANTAJ_ROWS' AND COLUMN_NAME = 'STAMP_TAX_TEMP')
    BEGIN
        ALTER TABLE EMPLOYEES_PUANTAJ_ROWS ADD STAMP_TAX_TEMP float;
    END;
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'EMPLOYEES_PUANTAJ_ROWS' AND COLUMN_NAME = 'INCOME_TAX_TEMP')
    BEGIN
        ALTER TABLE EMPLOYEES_PUANTAJ_ROWS ADD INCOME_TAX_TEMP float;
    END;
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'CONTENT_BANNERS' AND COLUMN_NAME = 'MOBILE_BANNER_FILE')
    BEGIN
        ALTER TABLE CONTENT_BANNERS ADD MOBILE_BANNER_FILE nvarchar(200);
    END;
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'SETUP_PROGRAM_PARAMETERS' AND COLUMN_NAME = 'IS_USE_MINIMUM_WAGE')
    BEGIN
        ALTER TABLE SETUP_PROGRAM_PARAMETERS ADD IS_USE_MINIMUM_WAGE bit;
    END;
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'GDPR_APPROVE' AND COLUMN_NAME = 'GDPR_DECLERATION_ID')
    BEGIN
        ALTER TABLE GDPR_APPROVE ADD GDPR_DECLERATION_ID int;
    END;
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'SUBSCRIPTION_CONTRACT_APPROVE')
    BEGIN
        CREATE TABLE [SUBSCRIPTION_CONTRACT_APPROVE](	 
        [APP_ID] int NOT NULL IDENTITY(1,1), 
        [SUBSCRIPTION_ID] int NULL, 
        [APP_DOMAIN] nvarchar(250) NULL, 
        [APP_APPROVED_DATE] datetime NULL, 
        [APP_APPROVED_NAME_SURNAME] nvarchar(250) NULL, 
        [RELEASE_NO] nvarchar(100) NULL, 
        [PATCH_NO] nvarchar(100) NULL, 
        CONSTRAINT [PK__SUBSCRIP__F00E58045F84BA10] PRIMARY KEY ([APP_ID] ASC));
    END;
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'EMPLOYEES_IN_OUT' AND COLUMN_NAME = 'USE_MINIMUM_WAGE')
    BEGIN
        ALTER TABLE EMPLOYEES_IN_OUT ADD USE_MINIMUM_WAGE bit;
    END;
</querytag>