<!-- Description : Release Eksik Alanlar
Developer: Pınar Yıldız
Company : Workcube
Destination: period -->
<querytag>
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'CARI_CLOSED_HISTORY' AND TABLE_SCHEMA = '@_dsn_period_@' AND COLUMN_NAME = 'CONTRACT_ID')
    BEGIN
        ALTER TABLE CARI_CLOSED_HISTORY ADD
        CONTRACT_ID INT NULL
    END;

    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'CARI_CLOSED_HISTORY' AND TABLE_SCHEMA = '@_dsn_period_@' AND COLUMN_NAME = 'PROCESS_CAT')
    BEGIN
        ALTER TABLE CARI_CLOSED_HISTORY ADD
        PROCESS_CAT INT NULL
    END;

    IF EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'EXPENSE_ITEMS_ROWS' AND TABLE_SCHEMA = '@_dsn_period_@' AND COLUMN_NAME = 'DISCOUNT_RATE')
    BEGIN
        ALTER TABLE EXPENSE_ITEMS_ROWS ALTER COLUMN
        DISCOUNT_RATE nvarchar(43) NULL
    END;

    
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'CARI_CLOSED' AND TABLE_SCHEMA = '@_dsn_period_@' AND COLUMN_NAME = 'ADDITIONAL_DETAIL')
    BEGIN
        ALTER TABLE CARI_CLOSED ADD
        ADDITIONAL_DETAIL  nvarchar(1000) NULL
    END;

    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'HEALTH_EXPENSE' AND TABLE_SCHEMA = '@_dsn_period_@' AND COLUMN_NAME = 'EXPENSE_ITEM_PLAN_REQUESTS_ID')
    BEGIN
        ALTER TABLE HEALTH_EXPENSE ADD
        EXPENSE_ITEM_PLAN_REQUESTS_ID  INT NULL
    END;

     IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'HEALTH_EXPENSE' AND TABLE_SCHEMA = '@_dsn_period_@' AND COLUMN_NAME = 'LIMB_ID')
    BEGIN
        ALTER TABLE HEALTH_EXPENSE ADD
        LIMB_ID INT NULL
    END;

      IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'EXPENSE_ITEM_PLAN_REQUESTS' AND TABLE_SCHEMA = '@_dsn_period_@' AND COLUMN_NAME = 'EXPENSE_ITEM_PLANS_PAPER_NO')
    BEGIN
        ALTER TABLE EXPENSE_ITEM_PLAN_REQUESTS ADD
        EXPENSE_ITEM_PLANS_PAPER_NO nvarchar(100) NULL
    END;

      IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'EXPENSE_ITEM_PLAN_REQUESTS' AND TABLE_SCHEMA = '@_dsn_period_@' AND COLUMN_NAME = 'HEALTH_AMOUNT_TAX_RATE')
    BEGIN
        ALTER TABLE EXPENSE_ITEM_PLAN_REQUESTS ADD
        HEALTH_AMOUNT_TAX_RATE INT NULL
    END;

      IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'EXPENSE_ITEM_PLANS' AND TABLE_SCHEMA = '@_dsn_period_@' AND COLUMN_NAME = 'SUBSCRIPTION_ID')
    BEGIN
        ALTER TABLE EXPENSE_ITEM_PLANS ADD
        SUBSCRIPTION_ID INT NULL
    END;
   
</querytag>