<!-- Description : Holistic.22.1 company objects
Developer: UÄŸur Hamurpet
Company : Workcube
Destination: Company -->
<querytag>  
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_company_@' AND TABLE_NAME = 'ALTERNATIVE_PRODUCTS' AND COLUMN_NAME = 'PROPERTY_ID')
    BEGIN
        ALTER TABLE ALTERNATIVE_PRODUCTS ADD PROPERTY_ID int NULL;
    END;
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_company_@' AND TABLE_NAME = 'POS_EQUIPMENT' AND COLUMN_NAME = 'POS_PROCESS_CAT')
    BEGIN
        ALTER TABLE POS_EQUIPMENT ADD POS_PROCESS_CAT int NULL;
    END;
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_company_@' AND TABLE_NAME = 'POS_EQUIPMENT' AND COLUMN_NAME = 'PRICE_CAT_ID')
    BEGIN
        ALTER TABLE POS_EQUIPMENT ADD PRICE_CAT_ID int NULL;
    END;
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_company_@' AND TABLE_NAME = 'SETUP_PROCESS_CAT' AND COLUMN_NAME = 'IS_INVENTORY_VALUATION')
    BEGIN
        ALTER TABLE SETUP_PROCESS_CAT ADD IS_INVENTORY_VALUATION int NULL;
    END;
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_company_@' AND TABLE_NAME = 'GENERAL_PAPERS' AND COLUMN_NAME = 'CASHREGISTER_NO')
    BEGIN
        ALTER TABLE GENERAL_PAPERS ADD CASHREGISTER_NO nvarchar(40) NULL;
    END;
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_company_@' AND TABLE_NAME = 'GENERAL_PAPERS' AND COLUMN_NAME = 'CASHREGISTER_NUMBER')
    BEGIN
        ALTER TABLE GENERAL_PAPERS ADD CASHREGISTER_NUMBER int NULL;
    END;
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_company_@' AND TABLE_NAME = 'INVENTORY_AMORTIZATON_IFRS' AND COLUMN_NAME = 'INVENTORY_VALUATION_ID')
    BEGIN
        ALTER TABLE INVENTORY_AMORTIZATON_IFRS ADD INVENTORY_VALUATION_ID int NULL;
    END;
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_company_@' AND TABLE_NAME = 'INVENTORY_AMORTIZATON' AND COLUMN_NAME = 'INVENTORY_VALUATION_ID')
    BEGIN
        ALTER TABLE INVENTORY_AMORTIZATON ADD INVENTORY_VALUATION_ID int NULL;
    END;
    IF NOT EXISTS ( SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = '@_dsn_company_@' AND TABLE_NAME='INVENTORY_VALUATION')
    BEGIN
        CREATE TABLE [INVENTORY_VALUATION ](	  [INVENTORY_VALUATION_ID] int NOT NULL IDENTITY(1,1)	, [OLD_INVENTORY_ID] int NULL	, [NEW_INVENTORY_ID] int NULL	, [OLD_INVENTORY_MONEY] float NULL	, [NEW_INVENTORY_MONEY] float NULL	, [VALUATION_DATE] datetime NULL	, [VALUATION_METHOD] int NULL	, [AMORTIZATION_TYPE] int NULL	, [AMORTIZATION_COUNT] int NULL	, [USEABLE_TIME] int NULL	, [PROCESS_CAT] int NULL	, [ACTION_TYPE] int NULL	, [PROCESS_STAGE ] int NULL	, [PAPER_NO] nvarchar(100) NULL	, [VALUATION_EMP_ID] int NULL	, [VALUATION_DETAIL] nvarchar(500) NULL	, [NEW_VALUE_MONEY] float NULL	, [NEW_VALUE_OTHER_MONEY] float NULL	, [RECORD_DATE] datetime NULL	, [RECORD_EMP] int NULL	, [RECORD_IP] nvarchar(50) NULL	, [UPDATE_DATE] datetime NULL	, [UPDATE_EMP] int NULL	, [UPDATE_IP] nvarchar(50) NULL	, CONSTRAINT [PK__WRK_EXTE__4CCFB490590FD432] PRIMARY KEY ([INVENTORY_VALUATION_ID] ASC));
    END;
</querytag>