<!-- Description : Holistic 22.2 sürümü tablolar ve kolon değişiklikleri
Developer: Fatih Kara
Company : Workcube
Destination: Main -->
<querytag>

    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'TRAINING_IN_SUBJECT' AND COLUMN_NAME = 'IS_REPEAT')
    BEGIN
        ALTER TABLE TRAINING_IN_SUBJECT ADD IS_REPEAT bit;
    END;

    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'TRAINING_IN_SUBJECT' AND COLUMN_NAME = 'IS_STUDY')
    BEGIN
        ALTER TABLE TRAINING_IN_SUBJECT ADD IS_STUDY bit;
    END;

    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'TRAINING_IN_SUBJECT' AND COLUMN_NAME = 'CONTENT_ID')
    BEGIN
        ALTER TABLE TRAINING_IN_SUBJECT ADD CONTENT_ID int;
    END;

    IF EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'WRK_FAMILY' AND COLUMN_NAME = 'VIDEO')
    BEGIN
        ALTER TABLE WRK_FAMILY ALTER COLUMN VIDEO nvarchar(200) NULL;
    END;

    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'TRAINING_GROUP_ATTENDERS' AND COLUMN_NAME = 'PHONE')
    BEGIN
        ALTER TABLE TRAINING_GROUP_ATTENDERS ADD PHONE nvarchar(150);
    END; 

    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'TRAINING_GROUP_ATTENDERS' AND COLUMN_NAME = 'EMAIL')
    BEGIN
        ALTER TABLE TRAINING_GROUP_ATTENDERS ADD EMAIL nvarchar(150);
    END; 

    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'TRAINING_GROUP_ATTENDERS' AND COLUMN_NAME = 'NAME')
    BEGIN
        ALTER TABLE TRAINING_GROUP_ATTENDERS ADD NAME nvarchar(250);
    END; 

    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'MY_SETTINGS' AND COLUMN_NAME = 'HR_PDKS')
    BEGIN
        ALTER TABLE MY_SETTINGS ADD HR_PDKS bit;
    END; 

    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'PAPER_CARGO_COURIER' AND COLUMN_NAME = 'DELIVERY_RECEIVER_CONS_ID')
    BEGIN
        ALTER TABLE PAPER_CARGO_COURIER ADD DELIVERY_RECEIVER_CONS_ID int;
    END; 

    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'PAPER_CARGO_COURIER' AND COLUMN_NAME = 'RECEIVER_COMP_ID')
    BEGIN
        ALTER TABLE PAPER_CARGO_COURIER ADD RECEIVER_COMP_ID int;
    END; 

    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'PAPER_CARGO_COURIER' AND COLUMN_NAME = 'DELIVERY_RECEIVER_COMP_ID')
    BEGIN
        ALTER TABLE PAPER_CARGO_COURIER ADD DELIVERY_RECEIVER_COMP_ID int;
    END; 
    
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'PAPER_CARGO_COURIER' AND COLUMN_NAME = 'RECEIVER_CONS_ID')
    BEGIN
        ALTER TABLE PAPER_CARGO_COURIER ADD RECEIVER_CONS_ID int;
    END; 
    
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'PAPER_CARGO_COURIER' AND COLUMN_NAME = 'DELIVERY_SENDER_COMP_ID')
    BEGIN
        ALTER TABLE PAPER_CARGO_COURIER ADD DELIVERY_SENDER_COMP_ID int;
    END; 
    
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'PAPER_CARGO_COURIER' AND COLUMN_NAME = 'DELIVERY_SENDER_CONS_ID')
    BEGIN
        ALTER TABLE PAPER_CARGO_COURIER ADD DELIVERY_SENDER_CONS_ID int;
    END; 

    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'PAPER_CARGO_COURIER' AND COLUMN_NAME = 'SENDER_CONS_ID')
    BEGIN
        ALTER TABLE PAPER_CARGO_COURIER ADD SENDER_CONS_ID int;
    END; 
    
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'EMPLOYEE_DAILY_IN_OUT' AND COLUMN_NAME = 'IN_COORDINATE1')
    BEGIN
        ALTER TABLE EMPLOYEE_DAILY_IN_OUT ADD IN_COORDINATE1 nvarchar(50);
    END; 

    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'EMPLOYEE_DAILY_IN_OUT' AND COLUMN_NAME = 'OUT_COORDINATE2')
    BEGIN
        ALTER TABLE EMPLOYEE_DAILY_IN_OUT ADD OUT_COORDINATE2 nvarchar(50);
    END; 
    
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'EMPLOYEE_DAILY_IN_OUT' AND COLUMN_NAME = 'OUT_COORDINATE1')
    BEGIN
        ALTER TABLE EMPLOYEE_DAILY_IN_OUT ADD OUT_COORDINATE1 nvarchar(50);
    END; 
    
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'EMPLOYEE_DAILY_IN_OUT' AND COLUMN_NAME = 'IN_COORDINATE2')
    BEGIN
        ALTER TABLE EMPLOYEE_DAILY_IN_OUT ADD IN_COORDINATE2 nvarchar(50);
    END; 
    
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'SETUP_DECISIONMEDICINE' AND COLUMN_NAME = 'DECISION_MEDICINE')
    BEGIN
        ALTER TABLE SETUP_DECISIONMEDICINE ADD DECISION_MEDICINE varchar;
    END; 
    
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'SETUP_DECISIONMEDICINE' AND COLUMN_NAME = 'DECISION_MEDICINE_ID')
    BEGIN
        ALTER TABLE SETUP_DECISIONMEDICINE ADD DECISION_MEDICINE_ID int;
    END; 
    
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'EMPLOYEES_PUANTAJ_ROWS' AND COLUMN_NAME = 'SSK_TRANSFER_AMOUNT')
    BEGIN
        ALTER TABLE EMPLOYEES_PUANTAJ_ROWS ADD SSK_TRANSFER_AMOUNT float;
    END; 
    
    IF NOT EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'TRAINING_CLASS_GROUPS' AND COLUMN_NAME = 'GROUP_OBJECTIVE')
    BEGIN
        ALTER TABLE TRAINING_CLASS_GROUPS ADD GROUP_OBJECTIVE nvarchar(4000);
    END; 
    
    IF EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'WRK_SOLUTION' AND COLUMN_NAME = 'VIDEO')
    BEGIN
        ALTER TABLE WRK_SOLUTION ALTER COLUMN VIDEO nvarchar(200) NULL;
    END; 
    
    IF EXISTS (SELECT 'Y' FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = '@_dsn_main_@' AND TABLE_NAME = 'WRK_MODULE' AND COLUMN_NAME = 'VIDEO')
    BEGIN
        ALTER TABLE WRK_MODULE ALTER COLUMN VIDEO nvarchar(200) NULL;
    END; 

</querytag>